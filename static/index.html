<html>

<head>

	<!-- seo related -->
	<title>MindMateGPT</title>
  <meta name="description" content="Discover MindMateGPT, your AI-powered therapist app offering personalized mental health support, expert advice, and effective coping strategies. Begin your journey to emotional well-being today!">

	<!-- meta related -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<!-- vendor css & style files -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300|Open+Sans:300|Oxygen|Material+Icons"
		rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

    <script src="https://js.stripe.com/v3/"></script>

	<!-- custom css -->
	<link rel="stylesheet" type="text/css" href="static/main.css">
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZYL1S2102L"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZYL1S2102L');
</script>
    <script>
        // Get the session_id from the HTML
        const sessionId = "user_data_SESSION={{user}}";

        window.addEventListener("beforeunload", function (event) {
            fetch("https://mindmategpt.herokuapp.com/api/session/" + sessionId, {
                method: "DELETE",
                keepalive: true
            });
        });
    </script>


<body>
<p id="session">SESSION={{user}}</p>
<p>IMPORTANT: All data you insert is sent to OpenAI. The makers of this app only intend store your data for the length of your session (session data). Your session data is deleted on refresh or close of this page.</p>

<div class="banner" onclick="showLandingPage()">
    Discover the Future of Self-Care: Enjoy Unlimited Sessions, Personalized Insights, and Email Transcripts with our Premium Therapist Robot!
</div>
    <form id="check-key-form">
        <label for="key">Input Premium Key</label>
        <input type="text" id="key" required>

        <button id="submitButton" type="button" class="check-key-button" onclick="checkKey()">Check Key</button>
    </form>



<div id="landingPage" class="landing-page">
    <h2>Welcome to our Premium Service</h2>
    <p>Here, you can enjoy unlimited sessions, get personalized insights, and receive email transcripts. Upgrade today for the optimal self-care experience. (20$ ONE TIME COST)</p>

    <form id="payment-form">
        <div id="card-element" class="StripeElement"></div>
        <div id="card-errors" role="alert"></div>
        <button type="submit">Submit Payment</button>
    </form>
</div>
<script>// Initialize Stripe with your publishable key
var stripe = Stripe('pk_live_51NCuyrH6lUlOepAr6tp9jjlGbpGZO7OEc59UrMXtMdSQROPd0jyfN8DfrBhNNKy0EzWjD5zAJYugYI1ZcDSBkRFX0050q18T5p');

// Create an instance of Elements.
var elements = stripe.elements();

// Create an instance of the card Element.
var card = elements.create('card');

// Add an instance of the card Element into the `card-element` <div>.
card.mount('#card-element');

// Handle real-time validation errors from the card Element.
card.on('change', function(event) {
  var displayError = document.getElementById('card-errors');
  if (event.error) {
    displayError.textContent = event.error.message;
  } else {
    displayError.textContent = '';
  }
});

// Handle form submission.
var form = document.getElementById('payment-form');
form.addEventListener('submit', function(event) {
  event.preventDefault();

  stripe.createPaymentMethod({
    type: 'card',
    card: card,
  }).then(function(result) {
    if (result.error) {
      // Show error in your UI.
      var errorElement = document.getElementById('card-errors');
      errorElement.textContent = result.error.message;
    } else {
      // Send the PaymentMethod ID to your server.
      fetch('https://mindmategpt.herokuapp.com/your-payment-endpoint', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({paymentMethodId: result.paymentMethod.id})
      }).then(function(response) {
        response.json().then(function(data) {
          var resultElement = document.getElementById('result');
          resultElement.textContent = JSON.stringify(data);
        });
      });
    }
  });
});
</script>

<script>
    function showLandingPage() {
        document.getElementById("landingPage").style.display = "block";
    }

    function validateInput() {
        var cardNumber = document.getElementById('card-number').value;
        var expMonth = document.getElementById('exp-month').value;
        var expYear = document.getElementById('exp-year').value;
        var cvc = document.getElementById('cvc').value;

        var currentYear = new Date().getFullYear();
        var currentMonth = new Date().getMonth() + 1; // getMonth is zero-indexed

        if (cardNumber.length !== 16) {
            alert("Card number must be 16 digits");
            return false;
        }

        if (expYear < currentYear || (expYear == currentYear && expMonth < currentMonth)) {
            alert("Card is expired");
            return false;
        }

        if (cvc.length !== 3) {
            alert("CVC must be 3 digits");
            return false;
        }

        return true;
    }
    function checkKey() {
        var keyInput = document.getElementById('key');
        var key = keyInput.value;
        var submitButton = document.getElementById('submitButton');
        var transcript = document.getElementById('transcript');

        if (key.length !== 5) {
            alert("Key must be 5 characters");
            keyInput.style.backgroundColor = "red"; // Change background to red when key length is incorrect
            return;
        }

        fetch('https://mindmategpt.herokuapp.com/check-key', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({key: key})
        }).then(function(response) {
            return response.json();
        }).then(function(data) {
            if (data.status === "success") {
                alert("Valid key.");
                keyInput.readOnly = true; // Prevent the input from being edited
                keyInput.style.backgroundColor = "green"; // Change background to green when key is valid
                submitButton.style.display = "none"; // Hide the button when key is valid
                transcript.style.display = "flex";
            } else {
                alert("Invalid key.");
                keyInput.style.backgroundColor = "red"; // Change background to red when key is invalid
                transcript.style.display = "none";
            }
        });
    }


    function handlePayment() {
        if (!validateInput()) {
            return;
        }
        var stripe = Stripe('pk_live_');

        var cardNumber = document.getElementById('card-number').value;
        var expMonth = document.getElementById('exp-month').value;
        var expYear = document.getElementById('exp-year').value;
        var cvc = document.getElementById('cvc').value;

        // First, create an instance of Elements.
        var elements = stripe.elements();

        // Create an instance of the card Element.
        var card = elements.create('card');

        // Add an instance of the card Element into the `card-element` <div>.
        card.mount('#card-element');

        // Handle real-time validation errors from the card Element.
        card.on('change', function(event) {
          var displayError = document.getElementById('card-errors');
          if (event.error) {
            displayError.textContent = event.error.message;
          } else {
            displayError.textContent = '';
          }
        });

        // Handle form submission.
        var form = document.getElementById('payment-form');
        form.addEventListener('submit', function(event) {
          event.preventDefault();

          stripe.createPaymentMethod({
            type: 'card',
            card: card,
          }).then(function(result) {
            if (result.error) {
              // Show error in your UI.
              var errorElement = document.getElementById('card-errors');
              errorElement.textContent = result.error.message;
            } else {
              // Send the PaymentMethod ID to your server.
              fetch('https://mindmategpt.herokuapp.com/your-payment-endpoint', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json'
                },
                body: JSON.stringify({paymentMethodId: result.paymentMethod.id})
              }).then(function(response) {
                var resultElement = document.getElementById('result');
                resultElement.textContent = JSON.stringify(data);
              });
            }
          });
        });
    }
</script>
<div id="result"></div>

<div id="intro" class="container">

    <form id="contact_form" class="well form-horizontal" >
<fieldset>

<!-- Form Name -->
<legend>Tell us about yourself</legend>

<!-- Text input-->

<div class="form-group">
  <label class="col-md-4 control-label">First Name</label>
  <div class="col-md-4 inputGroupContainer">
  <div class="input-group">
  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
  <input  name="first_name" placeholder="First Name" class="form-control"  type="text">
    </div>
  </div>
</div>

<!-- Text input-->


<!-- Text input-->
		<div class="form-group">
  <label class="col-md-4 control-label">How was your childhood?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
        	<textarea class="form-control" name="childhood" placeholder="Good"></textarea>
  </div>
  </div>
</div>



<!-- Text input-->

<div class="form-group">
  <label class="col-md-4 control-label">What is your relationship status?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-heart"></i></span>
  <input name="relationship" placeholder="Single" class="form-control" type="text">
    </div>
  </div>
</div>

<!-- Text input-->

<div class="form-group">
  <label class="col-md-4 control-label">What is your MBTI type?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
  <input name="mbti" placeholder="ENTJ" class="form-control" type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Where did you grow up?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
  <input name="growup" placeholder="America" class="form-control" type="text">
    </div>
  </div>
</div>

    <div class="form-group">
  <label class="col-md-4 control-label">Where do you live?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
  <input name="live" placeholder="America" class="form-control" type="text">
    </div>
  </div>
</div>

<!-- Text input-->

<div class="form-group">
  <label class="col-md-4 control-label">What is your criminal history?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
  <input name="criminal" placeholder="None" class="form-control"  type="text">
    </div>
  </div>
</div>


<!-- Text input-->

<div class="form-group">
  <label class="col-md-4 control-label">How often do you have drugs or alcohol?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
  <input name="drugs" placeholder="0 times per week" class="form-control"  type="text">
    </div>
</div>
</div>

<!-- Text area -->
	<div class="form-group">
  <label class="col-md-4 control-label">How is your family life?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
        	<textarea class="form-control" name="family" placeholder="Good"></textarea>
  </div>
  </div>
</div>


<!-- Text input -->

	<div class="form-group">
  <label class="col-md-4 control-label">What is your religion?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
  <input name="religion" placeholder="Atheist" class="form-control"  type="text">
    </div>
</div>
</div>

	<!-- Text input -->

	<div class="form-group">
  <label class="col-md-4 control-label">What is your highest level of education?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
  <input name="education" placeholder="Highschool" class="form-control"  type="text">
    </div>
</div>
</div>

		<!-- Text input -->

	<div class="form-group">
  <label class="col-md-4 control-label">What medication are you taking?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
  <input name="medication" placeholder="None" class="form-control"  type="text">
    </div>
</div>
</div>

			<!-- Text input -->

	<div class="form-group">
  <label class="col-md-4 control-label">Are you working?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
  <input name="working" placeholder="No" class="form-control"  type="text">
    </div>
</div>
</div>


<!-- Button -->
<div class="form-group">
  <label class="col-md-4 control-label"></label>
  <div class="col-md-4">
    <button type="submit" class="btn btn-warning" >Send <span class="glyphicon glyphicon-send"></span></button>
  </div>
</div>

</fieldset>
</form>
</div>

	<div  id="chat" class="container">

		<div class="row padded_row">

			<!-- right side content -->
			<div class="col-md-7">

				<div class="chat_window">

					<div class="top_menu">
						<div id='welcome_title' class="title">TherapistGPT - NAME</div>
					</div>

					<!-- dynamically rendered -->
					<ul class="messages"></ul>

					<!-- input -->
					<div class="bottom_wrapper">
						<input id="msg_input" placeholder="Say Hi to begin chat..." />
						<div id="send_button" class="app_button_1">Send</div>
					</div>
                    <div class="bottom_wrapper">
                        <input id="downloadInput" placeholder="bill@gmail.com..." />
						<div id="downloadButton" class="app_button_1">Get transcripts + insights</div>
                        <h4>(ONLY AVAILABLE WITH VALID KEY)</h4>
                    </div>
				</div>

			</div>

			<!-- left side content -->
			<div class="col-md-5">
				<div class="chat_window">

					<div class="top_menu">
						<div class="title">Help</div>
					</div>

					<!-- help container -->
					<div class="panel-group" id="accordion">

						<!-- help - 1 -->
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title">
									<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion"
										href="#collapse1">DISCLAIMER</a>
								</h4>
							</div>
							<div id="collapse1" class="panel-collapse collapse in">
								<div class="panel-body">
									WARNING: The makers of this project are in no way associated with OpenAI or ChatGPT and do not control what they do.
                                    This robot can give the wrong advices and the makers of this app are in no way shape
                                    or form responsible for anything this robot says.
                                    We do not intend to store any data you type and everything you say is as anonymous as you make it.
                                    Use responsibly.
								</div>
							</div>
						</div>

					</div>

				</div>
			</div>

		</div>

	</div>

	<!-- vendor script files -->
	<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.3/js/bootstrapValidator.min.js"> </script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js">
	</script>

	<!-- custom scripts -->
	<script src="static/main.js"></script>
</body>

</html>
