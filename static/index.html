<html>

<head>

	<!-- seo related -->
	<title>MindMateGPT</title>
  <meta name="description" content="Discover MindMateGPT, your AI-powered therapist app offering personalized mental health support, expert advice, and effective coping strategies. Begin your journey to emotional well-being today!">

	<!-- meta related -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<!-- vendor css & style files -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300|Open+Sans:300|Oxygen|Material+Icons"
		rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

    <script src="https://js.stripe.com/v3/"></script>

	<!-- custom css -->
	<link rel="stylesheet" type="text/css" href="static/main.css">
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZYL1S2102L"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZYL1S2102L');
</script>
    <script>
        // Get the session_id from the HTML
        const sessionId = "user_data_SESSION={{user}}";

        window.addEventListener("beforeunload", function (event) {
            fetch("https://mindmategpt.herokuapp.com/api/session/" + sessionId, {
                method: "DELETE",
                keepalive: true
            });
        });

    </script>



<body>

    <div id="welcome-section" class="welcome-section">
<div class="logocon" data-0="height: 100vh; opacity: 1" data-99="height: 10vh; opacity: .85" data-100="height: 50px">
<div class="logo" data-0="font-size: 150px" data-100="font-size: 32px" style="text-align: center">
    MindMateGPT
    <br><br>
    <p style="font-size: 25px">
        Meet MindMateGPT, your AI Mental Health companion. Begin by journaling to personalize the AI, paving the way for unique insights and therapeutic support. Scroll to start your journey.
    </p>
</div>
</div>
<!--page contents below-->
    </div>
<div class="banner">
  <div style="
    display: none;
    font-weight: bold;
    font-size: 30px;
;
">
    <button onclick="showLandingPage()" style="display: none; background-color: #FFA500; color: black; padding: 8px 16px; margin-top: 10px; border: none; border-radius: 5px; cursor: pointer; font-size: 25px;">Upgrade Now! <br> For insights and session memory!</button>
  </div>
</div>
    <br>
<p style="display: none" id="session">SESSION={{user}}</p>
<script>function showContent() {
  document.getElementById("hideAbout").style.display = "block";
  document.getElementById("content").style.display = "block";
}

function hideContent() {
  document.getElementById("content").style.display = "none";
  document.getElementById("hideAbout").style.display = "none";
}
</script>
<div class="content">
  <div style="display: block;" class="center" id="content">
    <header>
        <h1>About Our AI Mental Health Companion</h1>
    </header>
    <section>
        <h2>What We Do</h2>
        <p class="blurb">Our AI Mental Health companion helps you understand your thoughts, feelings, and experiences. It's like having a personal therapist for your needs.</p>
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSX3gcwOii5iv-Y1I2dpphGI28hUYMFdPXm2_S9p_Vk4Q&s" alt="Happy person using our app">
    </section>
    <section>
        <h2>Testimonials</h2>
        <div class="testimonial">
            <p>"I've never been consistent with journaling or therapy until I found this app. It's so easy to use and it makes self-care fun!"</p>
        </div>
        <div class="testimonial">
            <p>"This app has changed my life. I can now understand my thoughts and feelings easily. Highly recommended!"</p>
        </div>
    </section>  
    <div class="button-container">
    <button id="hideAbout" onclick="hideContent()">Hide About</button>
  </div>  
  </div>
  <br>
  
  <p class="notice">IMPORTANT: This is completely anonymous. We do not store any data.</p>
  <br>
  <p class="notice">Answer mindfully :)</p>
  
<div id="landingPage" class="landing-page">
    <h2 style="
    font-weight: bold;
">Welcome to our Premium Service - Powered by <a href="https://stripe.com/en-ca/payments" target="_blank">Stripe</a></h2>
    <h4>20$ one time fee (No subscription)</h4>
    <p style="
    font-size: 25px;
">With this key, you can enjoy rate-limit free sessions, personalized insights, email transcripts, and specific session summaries you can use for Mindy's memory. Upgrade today for the optimal self-care experience.</p>

    <form id="payment-form">
        <div id="card-element" class="StripeElement"></div>
        <div id="card-errors" role="alert"></div>
        <button id="payment-button" type="submit" style="font-size: 20px">Submit payment to generate key</button>
        <div id="loadingSpinner" style="display: none;">
          <div class="spinner"></div>
        </div>
    </form>
</div>
<script>// Initialize Stripe with your publishable key
var stripe = Stripe('pk_live_51NCuyrH6lUlOepAr6tp9jjlGbpGZO7OEc59UrMXtMdSQROPd0jyfN8DfrBhNNKy0EzWjD5zAJYugYI1ZcDSBkRFX0050q18T5p');

// Create an instance of Elements.
var elements = stripe.elements();

// Create an instance of the card Element.
var card = elements.create('card');

// Add an instance of the card Element into the `card-element` <div>.
card.mount('#card-element');

// Handle real-time validation errors from the card Element.
card.on('change', function(event) {
  var displayError = document.getElementById('card-errors');
  if (event.error) {
    displayError.textContent = event.error.message;
  } else {
    displayError.textContent = '';
  }
});

// Handle form submission.
var form = document.getElementById('payment-form');
form.addEventListener('submit', function(event) {
  event.preventDefault();

  stripe.createPaymentMethod({
    type: 'card',
    card: card,
  }).then(function(result) {
    if (result.error) {
      // Show error in your UI.
      var errorElement = document.getElementById('card-errors');
      errorElement.textContent = result.error.message;
    } else {
      // Send the PaymentMethod ID to your server.
      fetch('https://mindmategpt.herokuapp.com/api/your-payment-endpoint', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({id: result.paymentMethod.id})
      }).then(function(response) {
        response.json().then(function(data) {
          var resultElement = document.getElementById('result');
          resultElement.textContent = JSON.stringify(data);
        });
      });
    }
  });
});
</script>
<script>
document.getElementById('payment-button').addEventListener('click', function() {
    // Show the spinner
    document.getElementById('loadingSpinner').style.display = 'block';

    // Start checking every 100ms if the content is loaded
    var contentCheckInterval = setInterval(function() {
        var contentDiv = document.getElementById('result');
        if (contentDiv.textContent.trim() !== '') {
            // If the content is loaded, hide the spinner and stop checking
            document.getElementById('loadingSpinner').style.display = 'none';
            clearInterval(contentCheckInterval);
        }
    }, 100);
});
</script>
<script>
    function showLandingPage() {
        if(document.getElementById("landingPage").style.display != "block")
        {
                document.getElementById("landingPage").style.display = "block";
        }
        else
        {
                        document.getElementById("landingPage").style.display = "none";
        }
    }

    function validateInput() {
        var cardNumber = document.getElementById('card-number').value;
        var expMonth = document.getElementById('exp-month').value;
        var expYear = document.getElementById('exp-year').value;
        var cvc = document.getElementById('cvc').value;

        var currentYear = new Date().getFullYear();
        var currentMonth = new Date().getMonth() + 1; // getMonth is zero-indexed

        if (cardNumber.length !== 16) {
            alert("Card number must be 16 digits");
            return false;
        }

        if (expYear < currentYear || (expYear == currentYear && expMonth < currentMonth)) {
            alert("Card is expired");
            return false;
        }

        if (cvc.length !== 3) {
            alert("CVC must be 3 digits");
            return false;
        }

        return true;
    }
    function checkKey() {
        var keyInput = document.getElementById('key');
        var key = keyInput.value;
        var submitButton = document.getElementById('submitButton');
        var transcript = document.getElementById('transcript');
        var downloadInput = document.getElementById('downloadInput');
        var downloadButton = document.getElementById('downloadButton');

        if (key.length !== 5) {
            alert("Key must be 5 characters");
            keyInput.style.backgroundColor = "red"; // Change background to red when key length is incorrect
            return;
        }

        fetch('https://mindmategpt.herokuapp.com/api/check-key', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({key: key})
        }).then(function(response) {
            return response.json();
        }).then(function(data) {
            if (data.status === "success") {
                alert("Valid key.");
                keyInput.readOnly = true; // Prevent the input from being edited
                keyInput.style.backgroundColor = "green"; // Change background to green when key is valid
                downloadInput.style.display = 'block';
                downloadButton.style.display = 'block';
                emailContent.style.display = 'block';

                submitButton.style.display = "none"; // Hide the button when key is valid
                transcript.style.display = "flex";
            } else {
                alert("Invalid key.");
                keyInput.style.backgroundColor = "red"; // Change background to red when key is invalid
                transcript.style.display = "none";
            }
        });
    }


    function handlePayment() {
        if (!validateInput()) {
            return;
        }
        var stripe = Stripe('pk_live_');

        var cardNumber = document.getElementById('card-number').value;
        var expMonth = document.getElementById('exp-month').value;
        var expYear = document.getElementById('exp-year').value;
        var cvc = document.getElementById('cvc').value;

        // First, create an instance of Elements.
        var elements = stripe.elements();

        // Create an instance of the card Element.
        var card = elements.create('card');

        // Add an instance of the card Element into the `card-element` <div>.
        card.mount('#card-element');

        // Handle real-time validation errors from the card Element.
        card.on('change', function(event) {
          var displayError = document.getElementById('card-errors');
          if (event.error) {
            displayError.textContent = event.error.message;
          } else {
            displayError.textContent = '';
          }
        });

        // Handle form submission.
        var form = document.getElementById('payment-form');
        form.addEventListener('submit', function(event) {
          event.preventDefault();

          stripe.createPaymentMethod({
            type: 'card',
            card: card,
          }).then(function(result) {
            if (result.error) {
              // Show error in your UI.
              var errorElement = document.getElementById('card-errors');
              errorElement.textContent = result.error.message;
            } else {
              // Send the PaymentMethod ID to your server.
              fetch('https://mindmategpt.herokuapp.com/api/your-payment-endpoint', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json'
                },
                body: JSON.stringify({id: result.paymentMethod.id})
              }).then(function(response) {
                var resultElement = document.getElementById('result');
                resultElement.textContent = JSON.stringify(data);
              });
            }
          });
        });
    }

</script>
<div id="result" style="text-align: center; font-size: 25px; font-weight: bold;"></div>

<div id="intro" class="container">

    <form id="contact_form" class="well form-horizontal" style="background-color: DDFBFE;" >
<fieldset>

<!-- Form Name -->
<legend>Tell me about yourself.</legend>

<!-- Text input-->

<div class="form-group">
  <label class="col-md-4 control-label">What is your <a href="https://www.16personalities.com/">MBTI</a> type?</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
  <input name="mbti" placeholder="ENTJ" class="form-control" type="text">
    </div>
  </div>
</div>

<!-- Text input-->


<!-- Text input-->
		<div class="form-group">
  <label class="col-md-4 control-label">Tell me how feel about your childhood.</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
        	<textarea class="form-control" name="childhood" placeholder="Right now, I remember..."></textarea>
  </div>
  </div>
</div>



<!-- Text input-->

<div class="form-group">
  <label class="col-md-4 control-label">Tell me about your relationship life.</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-heart"></i></span>
  <textarea name="relationship" placeholder="Single, but..." class="form-control"></textarea>
    </div>
  </div>
</div>

<!-- Text input-->
			<!-- Text input -->

	<div class="form-group">
  <label class="col-md-4 control-label">Tell me about your work.</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
  <textarea name="working" placeholder="I work as a software dev..." class="form-control"></textarea>
    </div>
</div>
</div>


<!-- Button -->
<div class="form-group">
  <label class="col-md-4 control-label"></label>
  <div class="col-md-4">
    <button type="submit" class="btn btn-warning" >Send Journal <span class="glyphicon glyphicon-send"></span></button>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label"></label>
  <div class="col-md-4">
    <button class="btn btn-warning" onclick="freeForm()" >Skip to therapy <span class="glyphicon glyphicon-play-circle"></span></button>
  </div>
</div>

<script>
function freeForm()
{
    myDiv.style.display = "none";
    myDiv2.style.display = "block";

}
</script>


</fieldset>
</form>
</div>

	<div style="background-color: DDFBFE;"  id="chat" class="container">

		<div class="row padded_row">

			<!-- right side content -->
			<div class="col-md-7">

				<div class="chat_window">

					<div class="top_menu">
						<div id='welcome_title' class="title">TherapistGPT</div>
					</div>

					<!-- dynamically rendered -->
					<ul class="messages"></ul>

					<!-- input -->
					<div class="bottom_wrapper">
						<input id="msg_input" placeholder="Say Hi to begin chat..." />
						<div id="send_button" class="app_button_1">Send</div>
					</div>
                    <div class="bottom_wrapper">
                        <input id="downloadInput" placeholder="bill@gmail.com..." />
						<div id="downloadButton" class="app_button_1">Email</div>
                        <div id="loadingSpinner2" style="display: none;">
                            <div class="spinner"></div>
                        </div>
                    </div>
				</div>

			</div>

			<!-- left side content -->
			<div class="col-md-5">
				<div class="chat_window">

					<div class="top_menu">
						<div class="title">Help</div>
					</div>

					<!-- help container -->
					<div class="panel-group" id="accordion">

						<!-- help - 1 -->
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title">
									<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion"
										href="#collapse1">DISCLAIMER</a>
								</h4>
							</div>
							<div id="collapse1" class="panel-collapse collapse in">
								<div class="panel-body">
									WARNING: The makers of this project are in no way associated with OpenAI or ChatGPT.
                                    This robot can give the wrong advices.
                                    We do not store any data you type and everything you say is anonymous.
                                    Use responsibly. This is not a professional therapy replacement.
								</div>
							</div>
						</div>

					</div>

				</div>
			</div>

		</div>

	</div>

	<!-- vendor script files -->
	<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.3/js/bootstrapValidator.min.js"> </script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js">
	</script>

	<!-- custom scripts -->
	<script src="static/main.js"></script>

  <!-- Initialize Skrollr -->
<script>
window.onscroll = function(ev) {
    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight / 1.5) {
        // User is at the bottom of the page
        document.getElementById("welcome-section").style.display = "none";
    }
};
</script>
    <script>
document.getElementById('downloadButton').addEventListener('click', function() {
    // Show the spinner
    document.getElementById('loadingSpinner2').style.display = 'block';
    setTimeout(function() {
        document.getElementById('loadingSpinner2').style.display = 'none';
    }, 2000);
});
</script>


    </div>
<div style="display: none" class="banner">
  <div class="form-wrapper">
    <form id="check-key-form" style="display: flex; flex-direction: column;">
      <label for="key">Input Premium Key</label>
      <input type="text" id="key" required>
      <button id="submitButton" type="button" class="check-key-button" onclick="checkKey()" style="color: black;">Check Key</button>
    </form>
  </div>
</div>

</body>

</html>
